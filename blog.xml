<?xml version="1.0"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
<atom:link href="http://www.tmradio.net/blog.xml" rel="self" type="application/rss+xml"/>
<language>ru-RU</language>
<docs>http://blogs.law.harvard.edu/tech/rss</docs>
<generator>Poole</generator>
<title>Тоже мне радио: blog</title>
<description>Страницы сайта Тоже мне радио с пометкой «blog».</description>
<link>http://www.tmradio.net/blog.html</link>
<pubDate>Tue, 25 Jan 2011 21:28:26 -0000</pubDate>
<lastBuildDate>Tue, 25 Jan 2011 21:28:26 -0000</lastBuildDate>
<item>
	<title>Получение новой музыки из Last.fm</title>
	<link>http://www.tmradio.net/blog/20110126-lastfm.html</link>
	<description>&lt;p&gt;Раньше новая &lt;a href="/music.html"&gt;музыка&lt;/a&gt; добавлялась в ротацию в основном вручную:
добрые люди присылали ссылки, техподдержка их проверяла, скачивала музыку и
добавляла в ротацию.  В качестве дополнительных источников используется
несколько подкастов, однако из них приходит в основном довольно сомнительная
музыка и очень редко.&lt;/p&gt;
&lt;p&gt;Сегодня в список автоматических источников добавлены &lt;a href="http://www.lastfm.ru/home/freemp3s"&gt;рекомендации Last.fm&lt;/a&gt;
для пользователя &lt;a href="http://www.lastfm.ru/user/tmradiobot"&gt;tmradiobot&lt;/a&gt;, который отмечает всё, что звучит в эфире.  В
рекомендации попадает свободная музыка, похожая на то, что уже звучит на радио,
но которая в библиотеке радиостанции отсутствует.  Теперь библиотека будет
постоянно пополняться новой музыкой, которую админам останется, при
необходимости, раскидать по нужным &lt;a href="/schedule.html"&gt;программам&lt;/a&gt;, а избавиться от
&lt;a href="/programs/shitlist.html"&gt;всякого хлама&lt;/a&gt; помогут уже слушатели.&lt;/p&gt;
&lt;p&gt;Рекомендации Last.fm решают сразу две проблемы: нам не надо искать сайты
исполнителей, чтобы что-нибудь скачать, а исполнителям не надо думать, кому бы
ещё впарить свою музыку: кому надо сами её найдут.  Заодно администрация ТМР
теперь может смело отправиться в полугодичный отпуск на Луну, не боясь, что эфир
протухнет.&lt;/p&gt;
&lt;p&gt;Всем этим занимается наш новый робот, получивший имя &lt;a href="http://code.google.com/p/ardj/source/browse/src/robots/podcaster"&gt;podcaster&lt;/a&gt;, который
является, по сути, примитивным подкаст-аггрегатором, написанным на Питоне.&lt;/p&gt;</description>
	<pubDate>Tue, 25 Jan 2011 20:50:00 -0000</pubDate>
	<guid>http://www.tmradio.net/blog/20110126-lastfm.html</guid>
	<category>blog</category>
	<category>tech</category>
</item>
<item>
	<title>О медленных дисках и заикающемся звуке</title>
	<link>http://www.tmradio.net/blog/20110125-jerks.html</link>
	<description>&lt;p&gt;Сегодня в течение дня наблюдались периодические подвисания потока на несколько
секунд.  Радио работает на очень слабом сервере (Asus EEE PC 701), который
загрузить довольно легко, однако беглый анализ ситуации показал, что проблема не
связана ни с нагрузкой на процессор, ни на сетевой интерфейс.  Под подозрением
оставались диски.&lt;/p&gt;
&lt;p&gt;Оказалось что некто решил загрузить все эпизоды подкаста «&lt;a href="http://afterwednesday.rpod.ru/"&gt;Сегодня
четверг&lt;/a&gt;», которые хранятся на сайте, который обслуживается машиной, на
которой работает радио.  При этом сами файлы хранились в Amazon S3, а на сервере
был запущен кэширующий прокси-сервер, для снижения количества запросов.  Кэш
используется не очень большой, поэтому прокси-серверу приходилось скачивать
файлы извне, сохраняя их на диске на случай повторного обращения в течение
ближайших нескольких часов.&lt;/p&gt;
&lt;p&gt;Вот эта запись файлов размером в несколько десятков мегабайтов и вызывала такую
нагрузку на слабые SSD-диски сервера, что стопорилось даже чтение файлов. 
Проблему решили отказом от использования Amazon S3 в качестве файлового хостинга
(теперь только для бэкапов), также планируется увеличить буфер в ices, чтобы
временные провалы файловой системы не были столь заметны.&lt;/p&gt;
&lt;p&gt;Продолжаем выжимать максимум из имеющегося минимума.&lt;/p&gt;</description>
	<pubDate>Mon, 24 Jan 2011 18:01:00 -0000</pubDate>
	<guid>http://www.tmradio.net/blog/20110125-jerks.html</guid>
	<category>blog</category>
	<category>tech</category>
</item>
</channel>
</rss>
